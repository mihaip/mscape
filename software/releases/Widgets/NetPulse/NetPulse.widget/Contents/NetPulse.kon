<?xml version="1.0" encoding="UTF-8"?><widget version=1.0>   <debug>off</debug>   <!--       NetPulse Widget      Design/Code: Mihai Parparita/Mscape Software/mihai@mscape.com    -->   	<window title="NetPulse">		<name>main_window</name>		<width>128</width>		<height>162</height>		<opacity>255</opacity>		<visible>0</visible>		<shadow>1</shadow>		<level>topMost</level>		<option>allowCustomObjectAttributes</option>	</window>		<!-- traffic UI -->	<image src="Resources/loading.tif" name="chart" hOffset="0" vOffset="0"/>		<image src="Resources/en0.off.tif" name="en0" hOffset="0" vOffset="127">		<onMouseUp>			SwitchInterface("en0");		</onMouseUp>	</image>		<image src="Resources/en1.off.tif" name="en1" hOffset="32" vOffset="127">		<onMouseUp>			SwitchInterface("en1");		</onMouseUp>	</image>		<image src="Resources/ppp0.off.tif" name="ppp0" hOffset="64" vOffset="127">		<onMouseUp>			SwitchInterface("ppp0");		</onMouseUp>	</image>		<!-- about -->	<about-box>		<image>Resources/about.png</image>	</about-box>		<!-- preferences -->	<preference name="interfacePref">		<hidden>true</hidden>		<type>text</type>		<defaultValue>en0</defaultValue>	</preference>		<!-- code -->	<action trigger="onTimer" interval="1">		if (!paused)		{			chart.src = "output.tif";			chart.reload();			main_window.recalcShadow();		}        	        if (keepAliveTimerCount % 5 == 0)        	KeepAliveDaemon();        keepAliveTimerCount++;    </action>    	<action trigger="onLoad">		// general globals		var currentMode = "";		var currentInterface = "";				// traffic globals		var paused = true;		var keepAliveTimerCount = 0;				// pseudo constants		var kPingItemsStartX = 34;		var kPingItemsStartY = 7;		var kPingItemsOffset = 21;				function HideButtons()		{			en0.opacity = en1.opacity = ppp0.opacity = 0;			main_window.recalcShadow();		}				function ShowButtons()		{			en0.opacity = en1.opacity = ppp0.opacity = 255;			main_window.recalcShadow();		}				function KeepAliveDaemon()		{			runCommand('touch keepalive.gif');		}				function SwitchInterface(newInterface)		{			if (newInterface == currentInterface)				return;						paused = true;					LaunchDaemon(newInterface);						suppressUpdates();					if (currentInterface != "")			{				chart.src = "Resources/switching.tif";					eval(currentInterface).src = "Resources/" + currentInterface + ".off.tif";			}							eval(newInterface).src = "Resources/" + newInterface + ".on.tif";						resumeUpdates();						updateNow();			main_window.recalcShadow();						currentInterface = newInterface;			preferences.interfacePref.value = newInterface;			sleep(2000);			paused = false;		}						function LaunchDaemon(networkInterface)		{			runCommand("./NetPulseDaemon -I " + networkInterface);		}				if (main_window.hOffset == -1)		{			main_window.hOffset = screen.availLeft + screen.availWidth/2 - 90;			main_window.vOffset = screen.availTop + screen.availHeight/2 - 90;		}				main_window.visible = true;				KeepAliveDaemon();		SwitchInterface(preferences.interfacePref.value);		</action>		<action trigger="onGainFocus">		ShowButtons();	</action>		<action trigger="onLoseFocus">		HideButtons();	</action>		</widget>